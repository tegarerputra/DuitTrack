<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DuitTrack - Expense Tracker</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#0D1117">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Preload Critical CSS -->
    <link rel="preload" href="assets/css/main.css?v=dense-spacing-v1" as="style">
    <link rel="preload" href="assets/css/components.css?v=forced-bg-match-1715" as="style">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="assets/css/main.css?v=dense-spacing-v1">
    <link rel="stylesheet" href="assets/css/components.css?v=forced-bg-match-1715">
    <link rel="stylesheet" href="assets/css/glassmorphism.css?v=final">
    <link rel="stylesheet" href="assets/css/dashboard-optimized.css?v=category-override-v1">
    <link rel="stylesheet" href="assets/css/money-moves.css?v=1.1">
    <link rel="stylesheet" href="assets/css/budget-boss.css?v=onboarding-copycat">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-spinner neon-glow"></div>
        <p>Loading DuitTrack...</p>
    </div>

    <!-- Navigation -->
    <nav class="navbar glass-nav">
        <div class="nav-container">
            <button id="menuToggle" class="menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <h1 class="nav-title">DuitTrack</h1>
            <div class="nav-user">
                <img id="userAvatar" class="user-avatar" src="assets/images/default-avatar.svg" alt="User">
                <div id="userLoginDropdown" class="user-login-dropdown">
                    <button id="dropdownGoogleLogin" class="dropdown-google-login">
                        <img src="assets/images/google-icon.svg" alt="Google" class="google-icon">
                        Sign in with Google
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Dropdown Menu -->
    <div id="menuDropdown" class="menu-dropdown">
        <div class="dropdown-items glass-card">
            <div class="menu-main">
                <ul class="menu-list">
                    <li><a href="#dashboard" data-page="dashboard">üìä Dashboard</a></li>
                    <li><a href="#expenses" data-page="expenses">üí∏ Expenses</a></li>
                    <li><a href="#budget" data-page="budget">üí∞ Budget</a></li>
                </ul>
            </div>
            <div class="menu-bottom">
                <ul class="menu-list">
                    <li><a href="#logout" data-action="logout">üö™ Logout</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <main id="app" class="app-container">
        <!-- Landing/Login Page -->
        <section id="landingPage" class="page active">
            <div class="landing-container">
                <div class="hero-section glass-card">
                    <div class="hero-content">
                        <h1 class="hero-title">DuitTrack</h1>
                        <p class="hero-subtitle">üí∞ Your Money's New Best Friend üí∞</p>
                        <p class="hero-description">Track expenses like a pro, budget like a boss, and watch your wallet thank you!</p>
                    </div>
                    
                    <div class="login-section">
                        <button id="googleLogin" class="google-login-btn glass-btn">
                            <img src="assets/images/google-icon.svg" alt="Google" class="google-icon">
                            Get Started with Google
                        </button>
                    </div>
                </div>
                
                <div class="features-preview">
                    <div class="features-card glass-card">
                        <h3>‚ú® What Makes DuitTrack Awesome</h3>
                        <div class="features-list">
                            <div class="feature-item">
                                <span class="feature-icon">‚ö°</span>
                                <div class="feature-content">
                                    <strong>Lightning Fast Entry</strong>
                                    <p>Add expenses faster than you can say "where did my money go?"</p>
                                </div>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">üìä</span>
                                <div class="feature-content">
                                    <strong>Pretty Charts & Graphs</strong>
                                    <p>Turn your spending into eye candy with beautiful visualizations</p>
                                </div>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">üì±</span>
                                <div class="feature-content">
                                    <strong>Mobile-First Magic</strong>
                                    <p>Perfectly crafted for your pocket-sized financial command center</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Budget Onboarding Page -->
        <section id="budgetOnboardingPage" class="page">
            <div class="onboarding-container">
                <div class="onboarding-header glass-card">
                    <button class="welcome-close-btn" id="welcomeCloseBtn">&times;</button>
                    <div class="onboarding-icon">üéØ</div>
                    <h1>Welcome to DuitTrack!</h1>
                    <p class="onboarding-subtitle">Let's set up your monthly budget to get started</p>
                    <p class="onboarding-description">Don't worry, you can always adjust these later</p>
                </div>

                <!-- Budget Reset Date Card -->
                <div class="budget-setup-card glass-card">
                    <div class="form-section">
                        <div class="section-header">
                            <div class="section-icon">üìÖ</div>
                            <div class="section-info">
                                <h3>Budget Reset Date</h3>
                                <p class="section-description">When should your budget reset each month?</p>
                            </div>
                        </div>

                        <div class="reset-date-options">
                            <div class="reset-date-preset-buttons" id="resetDatePresets">
                                <!-- Preset buttons will be generated by JS -->
                            </div>

                            <div class="reset-date-custom" style="display: none;" id="resetDateCustom">
                                <label for="customResetDate">Custom Date:</label>
                                <select id="customResetDate" class="glass-input">
                                    <!-- Options 1-31 will be generated by JS -->
                                </select>
                            </div>

                            <div class="reset-date-preview" id="resetDatePreview">
                                <div class="budget-label">Your Budget Period</div>
                                <div id="previewPeriodText">1 Oct - 31 Oct 2025</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Category Budgets Card -->
                <div class="budget-setup-card glass-card">
                    <form id="budgetOnboardingForm" class="budget-form">
                        <div class="form-section">
                            <div class="section-header">
                                <div class="section-icon">üí∞</div>
                                <div class="section-info">
                                    <h3>Category Budgets</h3>
                                    <p class="section-description">Set your spending limits for each category</p>
                                </div>
                            </div>
                            
                            <!-- Quick Suggestions (Always visible at top) -->
                            <div class="category-suggestions" id="categorySuggestions">
                                <p class="suggestions-label">Quick suggestions:</p>
                                <div class="suggestion-buttons" id="suggestionButtons">
                                    <!-- Buttons will be generated by JS -->
                                </div>
                            </div>

                            <div class="category-budgets" id="categoryBudgetsList">
                                <!-- Dynamic categories will be added here -->
                                
                                <!-- Add Category Button - Moved to bottom for better UX -->
                                <div class="add-category-button" id="addCategoryButton">
                                    <button type="button" class="btn-add-category">
                                        <span class="add-icon">‚ûï</span>
                                        <span>Add Category</span>
                                    </button>
                                </div>

                                <!-- Add Category Form - Now at bottom -->
                                <div class="add-category-form" id="addCategoryForm" style="display: none;">
                                    <div class="category-budget-item">
                                        <div class="category-info">
                                            <div class="auto-emoji-display" id="autoEmojiDisplay">üí∞</div>
                                            <div class="category-details">
                                                <input type="text" id="newCategoryName" class="glass-input category-name-input" 
                                                       placeholder="Category name">
                                                <input type="text" id="newCategoryDescription" class="glass-input category-desc-input" 
                                                       placeholder="Optional description">
                                            </div>
                                        </div>
                                        <div class="budget-input-group">
                                            <input type="text" id="newCategoryBudget" class="glass-input category-budget-input" 
                                                   placeholder="100.000" min="0">
                                            <span class="currency">Rp</span>
                                        </div>
                                    </div>
                                    <div class="form-actions-inline">
                                        <button type="button" class="btn-secondary btn-small" id="cancelAddCategory">Cancel</button>
                                        <button type="button" class="btn-primary btn-small" id="saveAddCategory">Add Category</button>
                                    </div>
                                </div>
                            </div>

                            <div class="budget-summary">
                                <div class="budget-total">
                                    <div class="budget-label">Your Monthly Budget</div>
                                    <div id="totalAllocated" class="total-amount">Rp 0</div>
                                </div>
                            </div>
                        </div>

                        </div>
                    </form>
                </div>

                <!-- Complete Setup Action - Outside of cards -->
                <div class="onboarding-actions">
                    <button type="button" class="btn-primary btn-large" id="completeSetupBtn">
                        Complete Setup
                    </button>
                </div>
            </div>
        </section>

        <!-- Dashboard Page -->
        <section id="dashboardPage" class="page">
            <div class="dashboard-container">
                <div class="dashboard-header">
                    <h2>Dashboard</h2>
                </div>

                <!-- Month Filter -->
                <div class="dashboard-month-filter-section">
                    <select id="monthSelector" class="month-selector glass-input">
                        <option value="2025-09">September 2025</option>
                        <option value="2025-08">August 2025</option>
                    </select>
                </div>

                <!-- Priority Section: Essential Actions -->
                <div class="priority-section">
                    <!-- Add Expense Card (Prominent) -->
                    <div class="add-expense-card glass-card neon-border" id="addExpenseCard">
                        <h3>‚ûï Add New Expense</h3>
                        <p>Ready to track some spending? Tap here!</p>
                    </div>
                </div>

                <!-- Main Dashboard Grid -->
                <div class="dashboard-main-grid">
                    <!-- Consolidated Budget Status Card -->
                    <div class="budget-status-card glass-card primary-card" id="budgetStatusMain">
                    <div class="budget-header">
                        <h3>Budget Status</h3>
                        <span class="budget-health-indicator" id="budgetHealthIndicator">üü¢</span>
                    </div>
                    
                    <!-- Always Visible: Core Budget Info -->
                    <div class="budget-core-section">
                        <div class="budget-progress-visual">
                            <div class="budget-bar-progress" id="barProgress">
                                <div class="budget-main-info">
                                    <div class="spent-amount" id="totalSpent">Rp 0</div>
                                    <div class="total-budget" id="totalBudgetLabel">/ Rp 0</div>
                                </div>
                                
                                <div class="progress-bar-container">
                                    <div class="progress-bar-bg">
                                        <div class="progress-zones">
                                            <div class="zone-safe" style="width: 70%"></div>
                                            <div class="zone-warning" style="width: 20%"></div>
                                            <div class="zone-danger" style="width: 10%"></div>
                                        </div>
                                        <div class="progress-bar-fill" id="progressBarFill" style="width: 0%"></div>
                                    </div>
                                </div>
                                
                                <div class="budget-bottom-info">
                                    <div class="percentage-text" id="budgetPercentage">0%</div>
                                    <div class="budget-status-text" id="budgetStatusText">Masih aman</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Essential metrics always visible -->
                        <div class="budget-essential-stats">
                            <div class="stat-mini">
                                <span class="stat-icon">üí∞</span>
                                <div class="stat-info">
                                    <span class="stat-label">Remaining</span>
                                    <span class="stat-value" id="totalRemaining">Rp 0</span>
                                </div>
                            </div>
                            <div class="stat-mini">
                                <span class="stat-icon">üìÖ</span>
                                <div class="stat-info">
                                    <span class="stat-label">Days Left</span>
                                    <span class="stat-value" id="daysLeftCount">0 days</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
                    
                    <!-- Financial Intelligence Panel - Unified Design -->
                    <div class="financial-intelligence glass-card secondary-card" id="intelligencePanel">
                        <div class="intelligence-header">
                            <h3>üß† Financial Intelligence</h3>
                        </div>
                        
                        <div class="intelligence-unified-content">
                            <!-- Insights Section -->
                            <div class="insights-section">
                                <div class="section-label">Smart Insights</div>
                                <div id="insightsList" class="insights-unified-grid">
                                    <!-- Smart insights will be loaded here -->
                                </div>
                            </div>
                            
                            <!-- Visual Separator -->
                            <div class="section-divider"></div>
                            
                            <!-- Metrics Section -->
                            <div class="metrics-section">
                                <div class="section-label">Key Metrics</div>
                                <div class="metrics-unified-grid">
                                    <div class="metric-item">
                                        <div class="metric-icon">üìä</div>
                                        <div class="metric-info">
                                            <span class="metric-label">Daily Average</span>
                                            <span class="metric-value" id="dailyAverageAmount">Rp 0</span>
                                        </div>
                                    </div>
                                    <div class="metric-item">
                                        <div class="metric-icon">üìÖ</div>
                                        <div class="metric-info">
                                            <span class="metric-label">Period Forecast</span>
                                            <span class="metric-value" id="monthlyProjectionAmount">Rp 0</span>
                                        </div>
                                    </div>
                                    <div class="metric-item">
                                        <div class="metric-icon">‚ö°</div>
                                        <div class="metric-info">
                                            <span class="metric-label">Budget Efficiency</span>
                                            <span class="metric-value" id="budgetEfficiency">0%</span>
                                        </div>
                                    </div>
                                    <div class="metric-item">
                                        <div class="metric-icon">üíé</div>
                                        <div class="metric-info">
                                            <span class="metric-label">Savings Potential</span>
                                            <span class="metric-value" id="savingsPotential">Rp 0</span>
                                        </div>
                                    </div>
                                    <div class="metric-item">
                                        <div class="metric-icon">üìà</div>
                                        <div class="metric-info">
                                            <span class="metric-label">Spending Trend</span>
                                            <span class="metric-value" id="spendingTrend">Stable</span>
                                        </div>
                                    </div>
                                    <div class="metric-item">
                                        <div class="metric-icon">üèÜ</div>
                                        <div class="metric-info">
                                            <span class="metric-label">Goal Progress</span>
                                            <span class="metric-value" id="goalProgress">0%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Secondary Content -->
                <div class="secondary-content">
                    <!-- Category Breakdown -->
                    <div class="category-breakdown glass-card tertiary-card">
                        <div class="category-header">
                            <h3>Category Breakdown</h3>
                            <p class="category-subtitle">Track your spending across different categories</p>
                        </div>
                        <div id="categoryAccordion" class="category-accordion">
                            <!-- Accordion will be rendered here -->
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- Money Moves Page -->
        <section id="expensesPage" class="page">
            <div class="expenses-container">
                <div class="expenses-header">
                    <h2>Expenses</h2>
                </div>

                <!-- Month Filter -->
                <div class="month-filter-section">
                    <select id="expenseMonthSelector" class="month-selector glass-input">
                        <option value="2025-09">September 2025</option>
                        <option value="2025-08">August 2025</option>
                    </select>
                </div>

                <!-- Expenses List Container -->
                <div class="expenses-timeline" id="expensesTimeline">
                    <!-- Expenses will be loaded here with infinite scroll -->
                </div>

                <!-- Loading State -->
                <div id="expensesLoading" class="loading-expenses" style="display: none;">
                    <div class="loading-spinner neon-glow"></div>
                    <p>Loading your expenses...</p>
                </div>

                <!-- Empty State -->
                <div id="expensesEmpty" class="empty-expenses-state" style="display: none;">
                    <div class="empty-state-animation">
                        <div class="empty-icon">üí∏</div>
                        <div class="empty-sparkles">‚ú®</div>
                    </div>
                    <h3>No Expenses Yet!</h3>
                    <p>Your spending story starts here. Add your first expense to see the magic happen!</p>
                    <button class="btn-primary add-first-expense" id="addFirstExpense">
                        ‚ûï Add Your First Expense
                    </button>
                </div>
            </div>
        </section>

        <!-- Budget Boss Page -->
        <section id="budgetPage" class="page">
            <div class="budget-container">
                <!-- Header Section -->
                <div class="budget-header">
                    <h2>Budget</h2>
                </div>

                <!-- Month Filter -->
                <div class="budget-month-filter-section">
                    <select id="budgetMonthSelector" class="month-selector glass-input">
                        <option value="2025-09">September 2025</option>
                        <option value="2025-08">August 2025</option>
                    </select>
                </div>


                <!-- Budget Categories Section -->
                <div class="budget-categories-section">
                    
                    <!-- Categories List (Same as Onboarding) -->
                    <div class="category-budgets" id="budgetCategoryBudgetsList">
                        <!-- Dynamic categories will be added here -->
                        
                        <!-- Empty State Message (Inside List Area) -->
                        <div id="budgetEmptyState" class="budget-empty-state-inline" style="display: none;">
                            <div class="empty-state-content">
                                <div class="empty-icon">üí∞</div>
                                <h3>No Budget Categories Yet!</h3>
                                <p>Start by adding your first category below to take control of your spending.</p>
                            </div>
                        </div>
                        
                        <!-- Category Actions (Always Visible) -->
                        <div class="category-actions-section">
                            <div class="add-category-button" id="budgetAddCategoryButton">
                                <button type="button" class="btn-add-category">
                                    <span class="add-icon">‚ûï</span>
                                    <span>Add Category</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- Other pages will be added here -->
    </main>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-container">
            <div class="footer-brand">
                <span class="footer-logo">üí∞ DuitTrack</span>
                <span class="footer-year">2025</span>
            </div>
            <div class="footer-tagline">
                <p>Smart money, smarter you</p>
            </div>
        </div>
    </footer>

    <!-- Add Expense Modal -->
    <div id="addExpenseModal" class="modal">
        <div class="modal-container glass-card">
            <div class="modal-header">
                <h3>Add Expense</h3>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            
            <!-- Form Content (Default State) -->
            <div class="modal-content" id="modalFormContent">
                <form id="expenseForm" class="expense-form" novalidate>
                <div class="form-group">
                    <label for="expenseAmount">Amount</label>
                    <div class="currency-input-group">
                        <input type="text" id="expenseAmount" class="glass-input currency-input" 
                               placeholder="1.000.000" inputmode="numeric">
                        <span class="currency-prefix">Rp</span>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="expenseCategory">Category</label>
                    <select id="expenseCategory" class="glass-input expense-category-dropdown">
                        <option value="OTHER">Choose category (optional)</option>
                        <!-- Categories will be loaded dynamically -->
                    </select>
                </div>
                
                <!-- Smart Warning Container (will be populated by JS) -->
                <div id="smartWarningContainer" class="smart-warning-container" style="display: none;">
                    <!-- Smart warnings will appear here -->
                </div>
                
                <div class="form-group">
                    <label for="expenseDescription">Description</label>
                    <textarea id="expenseDescription" class="glass-input" placeholder="What did you spend on?" rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="expenseDate">Date</label>
                    <input type="date" id="expenseDate" class="glass-input">
                </div>
                
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" id="cancelBtn">Cancel</button>
                        <button type="submit" class="btn-primary neon-glow">Save Expense</button>
                    </div>
                </form>
            </div>
            
            <!-- Success State (Hidden by default) -->
            <div class="modal-success-state" id="modalSuccessState" style="display: none;">
                <div class="success-animation">
                    <div class="success-icon">‚úÖ</div>
                    <div class="success-ripple"></div>
                </div>
                
                <div class="success-content">
                    <h3>Expense Added Successfully!</h3>
                    <div class="success-summary">
                        <div class="expense-preview">
                            <span class="expense-amount" id="successAmount">Rp 25.000</span>
                            <span class="expense-category" id="successCategory">üçΩÔ∏è Makanan</span>
                            <span class="expense-date" id="successDate">Today</span>
                        </div>
                    </div>
                    
                    <!-- Smart budget update -->
                    <div class="success-budget-update" id="successBudgetUpdate" style="display: none;">
                        <p class="budget-update-text" id="budgetUpdateText">
                            <strong>Makanan</strong> budget: Rp 125.000 / Rp 500.000 (25%)
                        </p>
                        <div class="mini-progress-bar">
                            <div class="mini-progress-fill" id="miniProgressFill" style="width: 25%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="success-actions">
                    <button class="btn-secondary" id="addAnotherBtn">
                        ‚ûï Add Another
                    </button>
                    <button class="btn-primary" id="viewDashboardBtn">
                        üìä View Dashboard
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Budget Category Modal -->
    <div id="budgetCategoryModal" class="modal">
        <div class="modal-container glass-card">
            <div class="modal-header">
                <h3 id="categoryModalTitle">Add Budget Category</h3>
                <button class="modal-close" id="categoryModalClose">&times;</button>
            </div>
            
            <!-- Form Content -->
            <div class="modal-content" id="categoryModalFormContent">
                <form id="budgetCategoryForm" class="budget-category-form" novalidate>
                    <div class="form-group">
                        <label for="categoryName">Category Name</label>
                        <div class="category-name-input-group">
                            <div class="auto-emoji-display" id="categoryEmojiDisplay">üí∞</div>
                            <input type="text" id="categoryName" class="glass-input category-name-input" 
                                   placeholder="e.g., Food, Transportation, Entertainment">
                        </div>
                        <div class="emoji-suggestions" id="emojiSuggestions" style="display: none;">
                            <!-- Emoji suggestions will be populated -->
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="categoryDescription">Description (Optional)</label>
                        <input type="text" id="categoryDescription" class="glass-input" 
                               placeholder="Brief description of this category">
                    </div>
                    
                    <div class="form-group">
                        <label for="categoryBudget">Monthly Budget</label>
                        <div class="currency-input-group">
                            <input type="text" id="categoryBudget" class="glass-input currency-input" 
                                   placeholder="1.000.000" inputmode="numeric">
                            <span class="currency-prefix">Rp</span>
                        </div>
                        <div class="budget-warnings" id="budgetWarnings" style="display: none;">
                            <!-- Budget warnings will appear here -->
                        </div>
                    </div>
                    
                    <!-- Advanced Options (Collapsible) -->
                    <div class="advanced-options-toggle" id="advancedOptionsToggle">
                        <button type="button" class="toggle-btn">
                            <span class="toggle-text">Advanced Options</span>
                            <span class="toggle-icon">‚ñº</span>
                        </button>
                    </div>
                    
                    <div class="advanced-options" id="advancedOptions" style="display: none;">
                        <div class="form-group">
                            <label for="categoryColor">Category Color</label>
                            <div class="color-picker-group">
                                <input type="color" id="categoryColor" class="color-picker" value="#B8860B">
                                <div class="color-presets">
                                    <button type="button" class="color-preset" data-color="#B8860B" style="background: #B8860B"></button>
                                    <button type="button" class="color-preset" data-color="#CD7F32" style="background: #CD7F32"></button>
                                    <button type="button" class="color-preset" data-color="#4CAF50" style="background: #4CAF50"></button>
                                    <button type="button" class="color-preset" data-color="#2196F3" style="background: #2196F3"></button>
                                    <button type="button" class="color-preset" data-color="#FF9800" style="background: #FF9800"></button>
                                    <button type="button" class="color-preset" data-color="#9C27B0" style="background: #9C27B0"></button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="categoryIsActive" class="glass-checkbox" checked>
                                <span class="checkbox-text">Active Category</span>
                                <span class="checkbox-hint">Inactive categories won't appear in expense forms</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" id="categoryModalCancel">Cancel</button>
                        <button type="submit" class="btn-primary neon-glow" id="categoryModalSave">
                            <span id="categoryModalSaveText">Save Category</span>
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Success State -->
            <div class="modal-success-state" id="categoryModalSuccessState" style="display: none;">
                <div class="success-animation">
                    <div class="success-icon">‚úÖ</div>
                    <div class="success-ripple"></div>
                </div>
                
                <div class="success-content">
                    <h3 id="categorySuccessTitle">Category Added Successfully!</h3>
                    <div class="category-preview">
                        <div class="category-preview-item">
                            <span class="category-emoji" id="successCategoryEmoji">üí∞</span>
                            <div class="category-info">
                                <span class="category-name" id="successCategoryName">Food</span>
                                <span class="category-budget" id="successCategoryBudget">Rp 1.000.000</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="success-actions">
                    <button class="btn-secondary" id="addAnotherCategoryBtn">
                        ‚ûï Add Another
                    </button>
                    <button class="btn-primary" id="viewBudgetOverviewBtn">
                        üí∞ View Budget
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Category Confirmation Modal -->
    <div id="deleteCategoryModal" class="modal">
        <div class="modal-container glass-card delete-modal">
            <div class="modal-header delete-header">
                <h3>Delete Category</h3>
                <button class="modal-close" id="deleteModalClose">&times;</button>
            </div>
            
            <div class="modal-content">
                <div class="delete-warning">
                    <div class="warning-icon">‚ö†Ô∏è</div>
                    <div class="warning-content">
                        <p>Are you sure you want to delete this budget category?</p>
                        <div class="category-to-delete">
                            <span class="delete-category-emoji" id="deleteCategoryEmoji">üí∞</span>
                            <span class="delete-category-name" id="deleteCategoryName">Food</span>
                            <span class="delete-category-budget" id="deleteCategoryBudget">Rp 1.000.000</span>
                        </div>
                        <div class="delete-consequences">
                            <p><strong>This action cannot be undone.</strong> Any expenses in this category will be moved to "Other".</p>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="deleteModalCancel">Cancel</button>
                    <button type="button" class="btn-danger" id="deleteModalConfirm">
                        <span class="delete-icon">üóëÔ∏è</span>
                        <span>Delete Category</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
    
    <!-- App Scripts -->
    <script src="config/firebase-config.js"></script>
    <script src="assets/js/budget-date-utils.js?v=1.0"></script>
    <script src="assets/js/category-service.js?v=1.0"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/expense.js?v=fix-duplicate-other-category"></script>
    <script src="assets/js/dashboard.js?v=metrics-2x3-v1"></script>
    <!-- <script src="assets/js/budget.js"></script> DISABLED - using simple onboarding -->
    <script src="assets/js/simple-onboarding.js?v=smart-error-focus-system"></script>
    <script src="assets/js/budget-boss.js?v=onboarding-copycat"></script>
    <script src="assets/js/app.js?v=disabled-expense-validation"></script>
</body>
</html>